<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chatbot Website</title>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
  <div id="chat"></div>
  <input type="text" id="userInput" placeholder="Type your message..." />
  <button onclick="sendMessage()">Send</button>

  <script>
    async function sendMessage() {
      const userInput = document.getElementById('userInput').value;

      // Display user message
      appendMessage('You', userInput);

      try {
        // Send user message to server
        const response = await axios.post('/ask', {
          prompt: userInput,
        });

        // Display chatbot response
        const chatbotResponse = response.data.response;
        appendMessage('ChatGPT', chatbotResponse);
      } catch (error) {
        console.error('Error:', error.message);
        appendMessage('Error', 'An error occurred. Please try again.');
      }

      // Clear user input
      document.getElementById('userInput').value = '';
    }

    function appendMessage(role, message) {
      const chatDiv = document.getElementById('chat');
      const messageDiv = document.createElement('div');
      messageDiv.textContent = `${role}: ${message}`;
      chatDiv.appendChild(messageDiv);
    }
  </script>
</body>
</html>
